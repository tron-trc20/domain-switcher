<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>跳转中...</title>
    <script>
        // 获取所有域名
        const domains = [
            "cnrenlizi.com",
            "a.cnrenlizi.com",
            "b.cnrenlizi.com",
            "c.cnrenlizi.com",
            "d.cnrenlizi.com",
            "e.cnrenlizi.com",
            "f.cnrenlizi.com",
            "g.cnrenlizi.com",
            "h.cnrenlizi.com",
            "i.cnrenlizi.com",
            "j.cnrenlizi.com",
            "k.cnrenlizi.com",
            "l.cnrenlizi.com",
            "m.cnrenlizi.com",
            "n.cnrenlizi.com",
            "o.cnrenlizi.com",
            "p.cnrenlizi.com",
            "q.cnrenlizi.com",
            "r.cnrenlizi.com",
            "s.cnrenlizi.com",
            "t.cnrenlizi.com",
            "u.cnrenlizi.com",
            "v.cnrenlizi.com",
            "w.cnrenlizi.com",
            "x.cnrenlizi.com",
            "y.cnrenlizi.com",
            "z.cnrenlizi.com"
        ];

        // 从localStorage获取已知的被封禁域名
        const blockedDomains = JSON.parse(localStorage.getItem('blockedDomains') || '[]');
        
        // 从localStorage获取上次使用的域名索引
        let currentIndex = parseInt(localStorage.getItem('currentDomainIndex') || '0');
        
        // 获取可用的域名
        function getNextAvailableDomain() {
            while (currentIndex < domains.length) {
                const domain = domains[currentIndex];
                if (!blockedDomains.includes(domain)) {
                    return domain;
                }
                currentIndex++;
            }
            // 如果所有域名都尝试过，重新开始
            currentIndex = 0;
            return domains[0];
        }

        // 标记域名为已封禁
        function markDomainAsBlocked(domain) {
            if (!blockedDomains.includes(domain)) {
                blockedDomains.push(domain);
                localStorage.setItem('blockedDomains', JSON.stringify(blockedDomains));
            }
            currentIndex++;
            localStorage.setItem('currentDomainIndex', currentIndex.toString());
        }

        // 检测页面是否被微信封禁
        function checkWeChatBlock() {
            const content = document.body.innerText.toLowerCase();
            const blockIndicators = [
                '已停止访问该网页',
                '经网址安全检测',
                '该网页包含恶意欺诈内容',
                '为维护绿色上网环境',
                '已停止访问',
                '申请恢复访问'
            ];
            
            return blockIndicators.some(indicator => content.includes(indicator));
        }

        // 主要逻辑
        window.onload = function() {
            // 检查是否在微信中
            const isWeChat = /MicroMessenger/i.test(navigator.userAgent);
            
            if (isWeChat) {
                // 如果检测到是封禁页面
                if (checkWeChatBlock()) {
                    // 获取当前域名
                    const currentDomain = window.location.hostname;
                    // 标记当前域名为已封禁
                    markDomainAsBlocked(currentDomain);
                    // 获取下一个可用域名
                    const nextDomain = getNextAvailableDomain();
                    // 跳转到新域名
                    window.location.href = `https://${nextDomain}`;
                }
            }
        };
    </script>
</head>
<body>
    <div style="text-align: center; margin-top: 50px;">
        <h2>正在加载...</h2>
    </div>
</body>
</html> 